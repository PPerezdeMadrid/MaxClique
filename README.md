# Max Clique CSP - Algorithms

The goal of this practical work is to improve the basic algorithm provided (`search.py`) to solve the Maximum Clique Problem.  
This project implements several exact search variants and compares their performance on standard DIMACS benchmark graphs.


## What is the Maximum Clique problem?

Given an undirected graph (G=(V,E)), find the largest set of vertices where every pair is connected (a *clique*).
The problem is NP-hard, so we use exact search with good pruning.

## Algorithms included

* **`search.py` — Basic backtracking**
  Straightforward depth-first search that grows a partial clique and tries candidates. Good to read first, but slow on medium graphs.

* **`search2.py` — Complete baseline**
  Same interface as `search.py`, but with a proper upper bound so it matches the true optimum on all instances used here.

* **`search3.py`, `search4.py` — Faster ideas**
  Additional pruning and ordering (e.g., greedy colouring, initial degree ordering). Often much faster.

## Repository Structure

```
DIMACS/                 # Graph instances (.clq)
doc/                    # Notes about the implementation
src/
  main.py               # CLI entry point
  parser.py             # DIMACS reader
  search.py             # Basic baseline
  search2.py            # BnB introduced
  search3.py            # Index Ordering Colouring variant (explanation in /doc)
  search4.py            # Greedy Colouring Bound variant(explanation in /doc)
  visualizeGraphs.py    # Simple instances (graph) viewer
  resultsGraphs.py      # Script to produce runtime plots from results.csv
  timeTest.py           # Test how much time it takes to find the solution for each instance (per algorithm)
  Test.py               # Unittest for each algorithm
  plots/                # Plots generated by test
  results.csv           # Collected results (appended by timeTest.py script)
  requirements.txt      # Python dependencies
MCExample.png           # Small example figure
Practical.pdf/html      # Coursework brief
README.md               
```

## Install

Tested with Python 3.10+.

```bash
python -m venv .venv
source .venv/bin/activate     # Windows: .venv\Scripts\activate
cd src
pip install -r requirements.txt
```

## Run Scripts
Below are the main ways to execute, test, and visualise the algorithms.

### Run the original search algorithm
#### Run a single DIMACS graph

> Pass only the file name, not a path. The script looks inside the `DIMACS/` folder.

```bash
python main.py brock200_2.clq
```

#### Run all `.clq` files in `DIMACS/`

If you don’t pass any argument, it will process every `.clq` file in the `DIMACS/` folder (sorted by name):

```bash
python main.py
```

### Visualise Graphs Instances
> Displays the structure of a DIMACS graph using NetworkX and Matplotlib.

This small helper lets you see the structure of a DIMACS graph using NetworkX and Matplotlib.  
It builds the graph from your `.clq` file and displays it with a simple spring layout.

```bash
cd src
python visualizeGraphs.py hamming6-2.clq
```

### Testing the Algorithms

#### Run automatic unit tests (`Test.py`)

Runs **unittest** cases on several known graphs to verify correctness of all versions
(`search`, `search2`, `search3`, `search4`).

```bash
cd src
python Test.py
```

> Used  to confirm that your improved algorithms still find the correct maximum clique.


##### Time performance (`timeTest.py`)

Runs all search versions on each `.clq` instance, measures runtime, writes results to a CSV,
and automatically generates plots.

```bash
# Run on all graphs in DIMACS/
cd src
python timeTest.py
```

Or just one file:

```bash
cd src
python timeTest.py brock200_2.clq
```

To visualise the results stored in `results.csv`, run:

```bash
cd src
python resultsGraphs.py
```

> After running, the `plots/` folder will contain PNG files. Each one shows per-graph and overall runtimes

#### Typical workflow

1. Make sure `.clq` files are in `DIMACS/`
2. Test correctness:
    ```bash
    cd src
    python Test.py
   ```
3. Measure performance:

   ```bash
   cd src
   python timeTest.py
   python resultsGraphs.py
   ```
4. Inspect results:

   * `src/results.csv` → Time data of each instance per algorithm
   * `src/plots/` → stores the generated performance graphs (heatmaps, median-time charts, speedup plots, and other more general visual summaries).
   
